## Vue.js framework 경험
<br/>
<br/>
<br/>

### 롯데카드 카드신청 개편된 약관 공통화 작업

-   keyword
    -   도전적인
    -   끝까지 파고든
    -   인정받은
    -   성공
    -   성장

<hr/>

[‘결합도와 응집도’ 및 ‘공통화’를 상기시켜준 카드신청 약관 개편 작업]

‘롯데카드 LOCA앱 2.0 리뉴얼 프로젝트’에서 카드 파트의 ‘신용카드 신청’ 프로세스를 맡아서 개발하던 중, 통합테스트 1차 단계에서 갑작스럽게 약관 동의서의 기획과 요건이 개편되어 기존 코드를 엎고 새로 만들어야 하는 이슈가 발생했던 적이 있습니다. 저뿐만이 아니라 다른 카드신청 프로세스 담당자들과 함께 사용했던 ‘약관동의’ 부분이었기 때문에 이러한 이슈에 대해 프로젝트 일정에 큰 차질이 생기게 되었습니다. 그래서 저는 ‘조금이라도 일정 지연을 줄여 동료 개발자들의 짐을 덜어주자’ 라는 생각을 했고, 책임지고 끝까지 개발해서 만들어내겠다는 내적 목표와 도전정신도 생겼습니다.

Vue.js에서 Component, Module, Service뿐 아니라 Spring에서의 약관 시퀀스ID 조회 및 약관 전체본 데이터 커스텀 등 관련 API 개발 작업을 바로 시작하기 전에 우선 각 카드 신청 개발자들과 파트 담당자에게 약관 개편에 대해 설명을 들었습니다. 이를 바탕으로 약관 리스트 / 상세 / 아코디언 그룹의 컴포넌트 구조를 설계했습니다.

다음으로, 약관 정보 List를 하나의 interface로 설계하고 상/하위 Depth 약관 체크, 약관내용 데이터 맵핑 등 관련 기능들을 담은 하나의 공통 클래스로 만들고 Mixins를 활용해 다중상속을 받아 사용했습니다. 또, Props를 통한 카드신청 별 약관 분기처리와 vuex store를 활용해 약관동의여부 정보 관리로 공통화 작업을 수행했습니다. 그 후, Button, Input, Radio, checkbox 등 사용자 활용 UI 컴포넌트에 카드 신청 별 고유 ID 값을 채번하는 함수를 만들어 GA 태깅과 Tealeaf 분석을 위한 데이터를 추출해서 업무계 파트에 전달했습니다. 마지막으로, Enum과 주석을 사용해 가독성을 높였고, 동료 개발자들이 더욱 이해하기 쉽게 샘플 가이드도 제작했습니다.

통합테스트 결함 처리와 함께 이러한 작업을 주말까지 작업했고, 그 결과 각 카드신청 개발자들은 바로 컴포넌트만 변경하여 추가 지연 없이 무사히 변경할 수 있었습니다. 이후 ‘함께 일해서 좋다’는 칭찬을 받으며 동료들에게 든든하다는 인식을 심어주었습니다.  
제가 이렇게까지 작업할 수 있었던 것은 오랜 기간 함께 일하는 동료들과 서로 믿고 의지해야 이러한 이슈상황처럼 어떠한 상황이든지 ‘해낼 수 있다’ 라는 생각을 할 수 있게 돼서 일정에 차질이 생기지 않고, 서로 상부상조해야 프로젝트의 퀄리티가 높아진다고 생각했기 때문입니다.  
저 스스로도 이를 통해 ‘결합도는 낮추고 응집도는 높이는’ 코딩과 평상시 이슈에 대비한 개발 역량의 필요성을 다시금 깨달았고, 이를 위해 꾸준히 토이프로젝트와 개발 관련 서적, 기술 블로그를 통해 저 자신을 성장시키는 계기가 되었습니다.
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

### javascript 형식의 json 파일 axios 라이브러리로 불러오기

-   keyword
    -   트러블슈팅 및 해결
    -   Vue
    -   axios
    -   끝까지

<hr/>

['삼성페이 가능 기기 체크' 를 위해 기기 목록 json 파일 불러오기 ]

‘롯데카드 LOCA앱 2.0 리뉴얼 프로젝트’에서 신용카드 신청 완료 시 부가서비스 신청을 할 수 있어, 이러한 부가서비스 신청 기능을 구현하고 있었습니다. 신청한 카드를 삼성페이에 자동등록시키는 서비스를 보여주기 위해 삼성페이 가능 기기 여부를 체크하여 가능한 기기만 해당 서비스를 보여줘야 했습니다. 이러한 기기 목록 데이터는 삼성페이 클라우드 서버에 json 파일로 저장되어 있는데, 이를 불러와서 User-Agent에 있는 단말기 정보와 비교하여 삼성페이 가능 단말기를 체크하는 로직을 구현했습니다. 이 때, Vue에서 axios 라이브러리를 활용했는데, 응답코드 305 Proxy 에러를 받는 이슈가 발생했습니다. 

그래서 서버의 인바운드/아웃바운드 규칙과 다른 설정들을 확인했지만 별다른 문제가 없었습니다. 이후 저는 두 가지를 확인하여 이슈 원인을 찾게 되었습니다. 첫 번째는, 기존 As-Is는 JSP에서 Ajax의 getScript 함수를 호출하는 로직을 사용했었고, 두 번째는 인터넷망에서 직접 URL로 접근하여 개발자도구로 디버깅한 결과 Content-type이 'application/json'이 아니라 'application/octet-stream' 인 javascript 코드를 응답해주고 있었습니다. 즉, json 확장자 파일에는 json 방식이 아닌 javascript 코드가 적혀있었고, 기존 ajax에는 javascript를 동적으로 로드하는 getScript 함수를 사용했기 때문에 가능했었습니다.

이를 해결하기 위해 axios 설정 변경 대신 head tag에 script tag를 동적으로 생성하고, src를 연결해서 렌더링 시 호출되게 구현했습니다. 이후, windows 객체에 저장되어있는 기기 목록 변수값을 코드에서 호출하기 위해 window 전역 인터페이스에 변수 이름을 추가하여 컴파일 타임에 Eslint와 Prettier 검사를 통과했고, 테스트 결과 정상 동작했습니다.

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>